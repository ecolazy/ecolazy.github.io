<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Scraping ArcGIS REST API | ecolazy</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ecolazy.github.io/blog/scraping-arcgis-rest-api"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Scraping ArcGIS REST API | ecolazy"><meta data-rh="true" name="description" content="Web scraping has become an essential tool for collecting and analyzing data from various websites. In this blog post, we will explore how to scrape data using the Python requests library. We&#x27;ll walk through a sample script that demonstrates how to extract information from web services and save it as GeoJSON files."><meta data-rh="true" property="og:description" content="Web scraping has become an essential tool for collecting and analyzing data from various websites. In this blog post, we will explore how to scrape data using the Python requests library. We&#x27;ll walk through a sample script that demonstrates how to extract information from web services and save it as GeoJSON files."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-08-12T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://ecolazy.github.io"><meta data-rh="true" property="article:tag" content="hello,docusaurus"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ecolazy.github.io/blog/scraping-arcgis-rest-api"><link data-rh="true" rel="alternate" href="https://ecolazy.github.io/blog/scraping-arcgis-rest-api" hreflang="en"><link data-rh="true" rel="alternate" href="https://ecolazy.github.io/blog/scraping-arcgis-rest-api" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ecolazy RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ecolazy Atom Feed"><link rel="stylesheet" href="/assets/css/styles.5c8c3f00.css">
<link rel="preload" href="/assets/js/runtime~main.c970230f.js" as="script">
<link rel="preload" href="/assets/js/main.4c6f965d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">ecolazy</b></a><a class="navbar__item navbar__link" href="/docs/intro">Tutorial</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/about">About</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">All posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/bristol-house-price-heatmap">bristol house price heatmap</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/scraping-arcgis-rest-api">Scraping ArcGIS REST API</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/mastermap-on-aws-arm64">mastermap on aws arm64</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/vectorizing">From Images to Vector Art - Laser Cutting with Midjourney and AI Upscaling</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/whole-design">Innovative Integration - Crafting Functional Architectural Concepts with Visible Systems</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/looking-at-nature">Harmony of Natural Building Materials - A Journey of Exploration and Inspiration</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/infinite-universe">Infinite Universe Illusion - A Method of Immersive Visual Effects Using LED Light Strips and Optical Materials</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/inspire-index-polygon-house-prices">INSPIRE Index Polygon House Prices - A Map of Average Sale Prices</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/bio">From Legacy to Innovationn - A Journey in Architecture and Green Building</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/flood-risk-assessment-of-pudding-brook">Flood Risk Assessment of Pudding Brooke - Utilizing Topography Analysis for Informed Decision Making</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/parish-house-prices">Parish House Prices - A Map of Average Sale Prices</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/modeling-a-spherical-solar-concentrator">Advancing Solar Concentration with a Spherical Solar Concentrator</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/truss-connection-node-modeling">Innovative Dodecahedron Structural Node - Enhancing Truss Flexibility and Strength</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/creating-3d-buildings-from-mastermap-with-qgis">Creating 3D Buildings from Mastermap with QGIS</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/gifford-circus-cry-wheel-performances">Gifford Circus Cyr Wheel Performances - A Custom Modular Circular Stage</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/provisioning-cisco-cloud-wireless-controller">Provisioning Cisco Cloud Wireless Controller</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/mapping-wireless-coverage-at-the-royal-windsor-horse-show-with-arcgis">Improving Wireless Connectivity at the Royal Windsor Horse Show using ArcGIS</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/tracking-network-hardware-assets-at-the-isle-of-wight-festival">Efficient Network Hardware Asset Management at the Isle of Wight Festival</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/live-network-map-for-womad-festival">Real-Time Map of WOMAD Festival Network - Monitoring Status and Coverage</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/using-data-queries-to-enhance-wildlife-connectivity">Enhancing Wildlife Connectivity Through Data Queries for Rewilding</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/wireless-coverage-at-the-bath-festival-a-heatmap-analasis">Optimizing Wireless Connectivity at the Bath Festival - A Heatmap Analysis</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/visualizing-aonb-permitted-development-zones-with-qgis">Visualizing AONB Permitted Development Zones with QGIS - Streamlining Site Analysis</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/designing-for-comfort-and-practicality-in-motor-caravans">Designing Comfortable and Practical Motor Caravans - Where Functionality Meets Enjoyment</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/exploring-the-unique-characteristics-of-natural-building-materials">Exploring the Unique Characteristics of Natural Building Materials</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/vertical-farming-for-continuous-salad-production">Vertical Farming for Continuous Salad Production</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/designing-a-living-building:-an-organism-with-a-symbiotic-relationship-with-its-occupants">Creating a Living Building - Fostering a Symbiotic Bond with Its Inhabitants</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/wireless-coverage-at-manchester-pride">Seamless Wireless Connectivity at Manchester Pride - A Heatmap Analysis</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/constructing-a-3d-egg-shape-from-regular-polygons">From Generative Algorithms to Artistic Masterpiece - Constructing a 3D Egg Sculpture</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/designing-hardware-for-mounting-wireless-hardware-equiptment-on-marquees">Enhancing Wireless Connectivity on Outdoor Marquees - An Innovative Hardware Design</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Scraping ArcGIS REST API</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-08-12T00:00:00.000Z" itemprop="datePublished">August 12, 2023</time> · <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://ecolazy.github.io" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">ecolazy</span></a></div><small class="avatar__subtitle" itemprop="description">Maintainer</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="web-scraping-has-become-an-essential-tool-for-collecting-and-analyzing-data-from-various-websites-in-this-blog-post-we-will-explore-how-to-scrape-data-using-the-python-requests-library-well-walk-through-a-sample-script-that-demonstrates-how-to-extract-information-from-web-services-and-save-it-as-geojson-files">Web scraping has become an essential tool for collecting and analyzing data from various websites. In this blog post, we will explore how to scrape data using the Python requests library. We&#x27;ll walk through a sample script that demonstrates how to extract information from web services and save it as GeoJSON files.<a href="#web-scraping-has-become-an-essential-tool-for-collecting-and-analyzing-data-from-various-websites-in-this-blog-post-we-will-explore-how-to-scrape-data-using-the-python-requests-library-well-walk-through-a-sample-script-that-demonstrates-how-to-extract-information-from-web-services-and-save-it-as-geojson-files" class="hash-link" aria-label="Direct link to Web scraping has become an essential tool for collecting and analyzing data from various websites. In this blog post, we will explore how to scrape data using the Python requests library. We&#x27;ll walk through a sample script that demonstrates how to extract information from web services and save it as GeoJSON files." title="Direct link to Web scraping has become an essential tool for collecting and analyzing data from various websites. In this blog post, we will explore how to scrape data using the Python requests library. We&#x27;ll walk through a sample script that demonstrates how to extract information from web services and save it as GeoJSON files.">​</a></h2><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction-to-web-scraping">Introduction to Web Scraping<a href="#introduction-to-web-scraping" class="hash-link" aria-label="Direct link to Introduction to Web Scraping" title="Direct link to Introduction to Web Scraping">​</a></h2><p>Web scraping involves programmatically extracting data from websites. It can be used for a variety of purposes, including data analysis, research, and automation. However, it&#x27;s crucial to understand the legal and ethical considerations surrounding web scraping, including respect for website terms of use and applicable laws.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-the-environment">Setting Up the Environment<a href="#setting-up-the-environment" class="hash-link" aria-label="Direct link to Setting Up the Environment" title="Direct link to Setting Up the Environment">​</a></h2><p>Before we dive into the code, make sure you have the requests library installed. You can install it using the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">pip3 </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> requests</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The Script: Scraping GeoJSON Data
Let&#x27;s consider a scenario where we want to scrape GeoJSON data from a web service. Here&#x27;s a sample script that demonstrates the process:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">python</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Copy code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> requests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">base_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;https://example.com/server/rest/services/ext/&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">output_folder </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;output/&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">list_items </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;item_1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;item_2&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> list_item </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> list_items</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> endpoint </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        query_url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">base_url</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">list_item</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">/FeatureServer/</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">endpoint</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">/query?where=1%3D1&amp;outFields=*&amp;returnGeometry=true&amp;f=geojson&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            response </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">query_url</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">raise_for_status</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Check for HTTP errors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># Save response content as GeoJSON</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            geojson_filename </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">output_folder</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">list_item</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">endpoint</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">.geojson&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> </span><span class="token builtin">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">geojson_filename</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;wb&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> f</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                f</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Saved GeoJSON for endpoint </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">endpoint</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> of </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">list_item</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> to </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">geojson_filename</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">exceptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">RequestException </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Error retrieving data for endpoint </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">endpoint</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c"> of </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">list_item</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="explanation-of-the-script">Explanation of the Script<a href="#explanation-of-the-script" class="hash-link" aria-label="Direct link to Explanation of the Script" title="Direct link to Explanation of the Script">​</a></h2><p>Import the requests library to make HTTP requests.</p><p>Define the base_url and output_folder for the web service and output files, respectively.</p><p>Create a list of list_items representing the items you want to scrape.</p><p>Use nested loops to iterate through each list_item and a range of endpoints.</p><p>Construct the query URL by combining base_url, list_item, and the endpoint.</p><p>Send an HTTP GET request using requests.get() to fetch data from the URL.</p><p>Check for HTTP errors using response.raise_for_status().</p><p>Save the GeoJSON response content as a file in the specified output folder.</p><p>Handle exceptions using a try-except block to catch request-related errors.</p><p>Print messages indicating the progress and status of the scraping process.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2><p>Web scraping with Python and the requests library provides a powerful way to extract and collect data from various web services. However, it&#x27;s essential to follow ethical guidelines, respect website terms of use, and be aware of legal considerations. The provided sample script serves as a starting point for scraping GeoJSON data, and you can adapt it for other data types and websites.</p><p>Remember to always review the website&#x27;s terms of use and consider the ethical implications of scraping before proceeding. Happy scraping!</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/hello">hello</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/blog/tags/docusaurus">docusaurus</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/ecolazy/blog/2023-08-12-scraping-arcgis-rest-api.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/bristol-house-price-heatmap"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">bristol house price heatmap</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/mastermap-on-aws-arm64"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">mastermap on aws arm64</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#web-scraping-has-become-an-essential-tool-for-collecting-and-analyzing-data-from-various-websites-in-this-blog-post-we-will-explore-how-to-scrape-data-using-the-python-requests-library-well-walk-through-a-sample-script-that-demonstrates-how-to-extract-information-from-web-services-and-save-it-as-geojson-files" class="table-of-contents__link toc-highlight">Web scraping has become an essential tool for collecting and analyzing data from various websites. In this blog post, we will explore how to scrape data using the Python requests library. We&#39;ll walk through a sample script that demonstrates how to extract information from web services and save it as GeoJSON files.</a></li><li><a href="#introduction-to-web-scraping" class="table-of-contents__link toc-highlight">Introduction to Web Scraping</a></li><li><a href="#setting-up-the-environment" class="table-of-contents__link toc-highlight">Setting Up the Environment</a></li><li><a href="#explanation-of-the-script" class="table-of-contents__link toc-highlight">Explanation of the Script</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Work</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/ecolazy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/ecolazy" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c970230f.js"></script>
<script src="/assets/js/main.4c6f965d.js"></script>
</body>
</html>